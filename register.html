<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tourist Guide - Registration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./styles/index.css" />
  </head>
  <body
    class="bg-gradient-to-br from-amber-50 via-white to-slate-100 text-slate-800 antialiased font-sans"
  >
    <main class="min-h-screen flex items-center justify-center p-6">
      <section class="container max-w-6xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
          <!-- Left / Hero -->
          <div
            class="relative overflow-hidden rounded-3xl p-8 md:p-12 glass shadow-2xl border border-slate-200 text-center"
          >
            <img
              src="./Daleel-Logo.png"
              alt="Tourist Guide Logo"
              class="mx-auto mb-6 rounded-3xl shadow-lg"
            />
            <div class="mb-6">
              <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">
                Join <span class="text-amber-500">TouristGuide</span>
              </h1>
              <p class="mt-3 text-slate-600">
                Discover new destinations, create tours, and share your
                experiences. Sign up now and start your journey.
              </p>
            </div>
            <footer class="mt-6 text-sm text-slate-500">
              Designed for travel lovers — modern & responsive interface
            </footer>
          </div>
          <!-- Right / Form -->
          <div
            class="bg-white/60 rounded-3xl p-6 md:p-10 glass shadow-2xl border border-slate-200"
          >
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-2xl font-bold text-slate-900">
                Create New Account
              </h2>
              <div class="text-sm text-slate-500">Quick & Easy · 1 min</div>
            </div>
            <form id="regForm" class="space-y-4" novalidate>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <div>
                  <label class="block text-sm mb-1">Full Name</label>
                  <input
                    id="fullName"
                    required
                    type="text"
                    placeholder="Enter your name"
                    class="w-full rounded-xl px-4 py-3 bg-white border border-slate-300 focus-ring"
                  />
                  <p
                    class="text-xs text-rose-500 mt-1 hidden"
                    data-error-for="fullName"
                  >
                    Name is required
                  </p>
                </div>
                <div>
                  <label class="block text-sm mb-1">Phone Number</label>
                  <input
                    id="phone"
                    type="tel"
                    placeholder="e.g. 01012345678"
                    class="w-full rounded-xl px-4 py-3 bg-white border border-slate-300 focus-ring"
                  />
                </div>
              </div>
              <div>
                <label class="block text-sm mb-1">Email Address</label>
                <input
                  id="email"
                  required
                  type="email"
                  placeholder="you@example.com"
                  class="w-full rounded-xl px-4 py-3 bg-white border border-slate-300 focus-ring"
                />
                <p
                  class="text-xs text-rose-500 mt-1 hidden"
                  data-error-for="email"
                >
                  Invalid email
                </p>
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <div>
                  <label class="block text-sm mb-1">Password</label>
                  <div class="relative">
                    <input
                      id="password"
                      required
                      type="password"
                      placeholder="Enter a strong password"
                      class="w-full rounded-xl px-4 py-3 bg-white border border-slate-300 focus-ring pr-16"
                    />
                    <button
                      type="button"
                      id="togglePass"
                      class="absolute inset-y-0 right-0 flex items-center px-3 text-sm text-slate-600"
                    >
                      Show
                    </button>
                  </div>
                  <div class="mt-2 text-xs text-slate-600">
                    Password strength:
                    <span id="pwStrength" class="font-semibold">Weak</span>
                  </div>
                </div>
                <div>
                  <label class="block text-sm mb-1">Confirm Password</label>
                  <input
                    id="confirmPassword"
                    required
                    type="password"
                    placeholder="Re-enter password"
                    class="w-full rounded-xl px-4 py-3 bg-white border border-slate-300 focus-ring"
                  />
                  <p
                    class="text-xs text-rose-500 mt-1 hidden"
                    data-error-for="confirmPassword"
                  >
                    Passwords do not match
                  </p>
                </div>
              </div>
              <div>
                <label class="block text-sm mb-1">Country</label>
                <select
                  id="country"
                  class="w-full rounded-xl px-4 py-3 bg-white border border-slate-300 focus-ring"
                >
                  <option value="eg">Egypt</option>
                  <option value="sa">Saudi Arabia</option>
                  <option value="ae">UAE</option>
                  <option value="jo">Jordan</option>
                  <option value="other">Other</option>
                </select>
              </div>
              <div>
                <label class="block text-sm mb-2">Register as</label>
                <div class="flex gap-6">
                  <label class="flex items-center gap-2 cursor-pointer">
                    <input
                      type="radio"
                      name="role"
                      value="tourist"
                      class="text-amber-500 focus-ring"
                      required
                    />
                    <span>Tourist</span>
                  </label>
                  <label class="flex items-center gap-2 cursor-pointer">
                    <input
                      type="radio"
                      name="role"
                      value="guide"
                      class="text-amber-500 focus-ring"
                      required
                    />
                    <span>Guide</span>
                  </label>
                </div>
                <p
                  class="text-xs text-rose-500 mt-1 hidden"
                  data-error-for="role"
                >
                  Please select your role
                </p>
              </div>
              <div class="flex items-start gap-3">
                <input id="terms" type="checkbox" class="mt-1" />
                <label for="terms" class="text-sm text-slate-700"
                  >I agree to the
                  <a href="#" class="underline text-amber-600"
                    >Terms of Service</a
                  >
                  and Privacy Policy</label
                >
              </div>
              <div>
                <button
                  id="submitBtn"
                  class="w-full rounded-2xl py-3 font-bold bg-amber-500 text-white hover:scale-[1.01] transition"
                >
                  Register Now
                </button>
              </div>
            </form>
            <p class="mt-4 text-center text-sm text-slate-600">
              Already have an account?
              <a href="#" class="text-amber-600 font-semibold">Login</a>
            </p>
          </div>
        </div>
      </section>
    </main>

    <script>
      const form = document.getElementById("regForm");
      const pw = document.getElementById("password");
      const cpw = document.getElementById("confirmPassword");
      const toggle = document.getElementById("togglePass");
      const pwStrength = document.getElementById("pwStrength");
      const submitBtn = document.getElementById("submitBtn");
      const roleInputs = document.querySelectorAll('input[name="role"]');
      const errRole = document.querySelector('[data-error-for="role"]');

      toggle.addEventListener("click", () => {
        const t = pw.type === "password" ? "text" : "password";
        pw.type = t;
        cpw.type = t;
        toggle.textContent = t === "password" ? "Show" : "Hide";
      });

      function estimateStrength(s) {
        let score = 0;
        if (s.length >= 8) score++;
        if (/[A-Z]/.test(s)) score++;
        if (/[0-9]/.test(s)) score++;
        if (/[^A-Za-z0-9]/.test(s)) score++;
        return score;
      }

      pw.addEventListener("input", () => {
        const score = estimateStrength(pw.value);
        const labels = ["Weak", "Medium", "Strong", "Very Strong"];
        pwStrength.textContent =
          labels[Math.max(0, Math.min(labels.length - 1, score - 1))] || "Weak";
        pw.classList.remove(
          "border-rose-400",
          "border-yellow-300",
          "border-emerald-300"
        );
        if (score <= 1) pw.classList.add("border-rose-400");
        else if (score === 2) pw.classList.add("border-yellow-300");
        else pw.classList.add("border-emerald-300");
      });

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        let valid = true;
        [
          ["fullName", "Name is required"],
          ["email", "Invalid email"],
          ["password", "Password is required"],
          ["confirmPassword", "Confirm your password"],
        ].forEach(([id, msg]) => {
          const el = document.getElementById(id);
          const err = document.querySelector(`[data-error-for="${id}"]`);
          if (!el.value.trim()) {
            valid = false;
            if (err) {
              err.textContent = msg;
              err.classList.remove("hidden");
            }
          } else if (err) err.classList.add("hidden");
        });

        const errConf = document.querySelector(
          '[data-error-for="confirmPassword"]'
        );
        if (pw.value !== cpw.value) {
          valid = false;
          if (errConf) {
            errConf.textContent = "Passwords do not match";
            errConf.classList.remove("hidden");
          }
        }

        if (!document.getElementById("terms").checked) {
          valid = false;
          alert("You must agree to the terms");
        }
        const roleSelected = [...roleInputs].some((r) => r.checked);
        if (!roleSelected) {
          valid = false;
          if (errRole) {
            errRole.classList.remove("hidden");
          }
        } else {
          if (errRole) {
            errRole.classList.add("hidden");
          }
        }

        if (valid) {
          submitBtn.disabled = true;
          submitBtn.textContent = "Creating...";
          setTimeout(() => {
            submitBtn.textContent = "Registered ✓";
          }, 900);
        }
      });

      window.addEventListener("load", () => {
        document.querySelectorAll(".glass").forEach((el, i) => {
          el.style.transform = "translateY(12px)";
          el.style.opacity = "0";
          setTimeout(() => {
            el.style.transition = "transform .6s ease, opacity .6s ease";
            el.style.transform = "translateY(0)";
            el.style.opacity = "1";
          }, 120 * i);
        });
      });
    </script>
    <script src="./scripts/index.js"></script>
  </body>
</html>
